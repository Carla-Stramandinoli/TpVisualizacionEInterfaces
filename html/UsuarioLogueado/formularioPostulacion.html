<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Postulación - TalentLab</title>
    <link rel="stylesheet" href="../../css/bootstrap-custom.css">
    <style>
        .step-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            flex: 1;
            max-width: 120px;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            color: #6c757d;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 0.5rem;
            transition: all 0.3s;
        }
        
        .step.active .step-number {
            background: #0B2D59;
            color: white;
        }
        
        .step.completed .step-number {
            background: #28a745;
            color: white;
        }
        
        .step-line {
            position: absolute;
            top: 20px;
            left: 50%;
            right: -50%;
            height: 2px;
            background: #e9ecef;
            z-index: -1;
        }
        
        .step:last-child .step-line {
            display: none;
        }
        
        .step.completed .step-line {
            background: #28a745;
        }
        
        .step-content {
            display: none;
        }
        
        .step-content.active {
            display: block;
        }
        
        .skill-tag {
            background: #e7f3ff;
            color: #0B2D59;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            margin: 0.25rem;
            display: inline-block;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid #e7f3ff;
        }
        
        .skill-tag:hover {
            background: #0B2D59;
            color: white;
        }
        
        .skill-tag.selected {
            background: #0B2D59;
            color: white;
        }
        
        .progress-bar-custom {
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 1rem;
        }
        
        .progress-fill {
            height: 100%;
            background: #0B2D59;
            transition: width 0.3s ease;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="custom-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-4 d-none d-lg-block">
                    <h1 class="h3 mb-0"><i class="bi bi-lightbulb"></i> TalentLab</h1>
                </div>
                <div class="col-md-8">
                    <nav class="navbar navbar-expand-lg navbar-dark">
                        <a class="navbar-brand d-lg-none" href="#"><i class="bi bi-lightbulb"></i> TalentLab</a>
                        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarPerfilUsuario" aria-controls="navbarPerfilUsuario" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarPerfilUsuario">
                            <div class="navbar-nav ms-auto ps-3 mt-4 mt-lg-0">
                                <a class="nav-link d-flex align-items-center gap-2 text-nowrap"
                                    href="./homeLogueado.html"><i class="bi bi-house-door"></i>
                                    <p class="m-0">Inicio</p>
                                </a>
                                <a class="nav-link d-flex align-items-center gap-2 text-nowrap"
                                    href="./cursosLogueado.html"><i class="bi bi-book"></i>
                                    <p class="m-0">Cursos</p>
                                </a>
                                <a class="nav-link active d-flex align-items-center gap-2 text-nowrap"
                                    href="./proyectosLogueado.html"><i class="bi bi-rocket"></i>
                                    <p class="m-0">Proyectos</p>
                                </a>
                                <a class="nav-link d-flex align-items-center gap-2 text-nowrap" href="./ranking.html"><i
                                        class="bi bi-trophy"></i>
                                    <p class="m-0">Ranking</p>
                                </a>
                                <a class="nav-link btn-profile d-flex align-items-center gap-2 text-nowrap"
                                    href="./perfilUsuario.html"><i class="bi bi-person-circle"></i>
                                    <p class="m-0">Mi Perfil</p>
                                </a>
                                <a class="nav-link btn-logout d-flex align-items-center gap-2 text-nowrap"
                                    href="../UsuarioNoLogueado/homeNoLogueado.html"><i class="bi bi-box-arrow-left"></i>
                                    <p class="m-0 w-100">Cerrar Sesión</p>
                                </a>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </header>

    <!-- Información del proyecto -->
    <section class="py-4 bg-light">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card custom-card shadow-sm">
                        <div class="card-body">
                            <h3 class="mb-3">Postulándote para:</h3>
                            <div class="d-flex align-items-center gap-3">
                                <div class="rounded border d-flex align-items-center justify-content-center bg-primary" style="width: 60px; height: 60px; color: white;"><i class="bi bi-mortarboard"></i></div>
                                <div>
                                    <h4 class="mb-1">Plataforma de Aprendizaje Infantil</h4>
                                    <p class="mb-1"><strong>ONG EduTech</strong> | Duración: 4 meses</p>
                                    <span class="badge bg-primary">Tecnología - Educación</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Formulario Simplificado -->
    <section class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card custom-card shadow-lg">
                        <div class="card-body p-4">
                            <!-- Barra de progreso -->
                            <div class="progress-bar-custom">
                                <div class="progress-fill" id="progressFill" style="width: 50%"></div>
                            </div>
                            
                            <!-- Indicador de pasos -->
                            <div class="step-indicator">
                                <div class="step active" data-step="1">
                                    <div class="step-number">1</div>
                                    <div class="step-title small">Rol y Habilidades</div>
                                    <div class="step-line"></div>
                                </div>
                                <div class="step" data-step="2">
                                    <div class="step-number">2</div>
                                    <div class="step-title small">Motivación</div>
                                </div>
                            </div>

                            <form id="postulationForm">
                                <!-- Paso 1: Rol y Habilidades -->
                                <div class="step-content active" data-step="1">
                                    <h4 class="mb-4">Rol y Habilidades</h4>
                                    <div class="row g-3">
                                        <div class="col-12">
                                            <label class="form-label">Rol al que te postulas *</label>
                                            <select class="form-select" required>
                                                <option value="">Selecciona un rol...</option>
                                                <option value="frontend">Frontend Developer</option>
                                                <option value="backend">Backend Developer</option>
                                                <option value="fullstack">Full Stack Developer</option>
                                                <option value="designer">UX/UI Designer</option>
                                                <option value="qa">QA Tester</option>
                                            </select>
                                        </div>
                                        <div class="col-12">
                                            <label class="form-label">Selecciona las tecnologías que dominas *</label>
                                            <p class="text-muted small mb-3">Haz clic en las tecnologías que conoces:</p>
                                            <div class="border rounded p-3 bg-light">
                                                <div class="mb-3">
                                                    <strong>Frontend:</strong><br>
                                                    <span class="skill-tag" data-skill="html">HTML</span>
                                                    <span class="skill-tag" data-skill="css">CSS</span>
                                                    <span class="skill-tag" data-skill="javascript">JavaScript</span>
                                                    <span class="skill-tag" data-skill="react">React</span>
                                                    <span class="skill-tag" data-skill="vue">Vue.js</span>
                                                    <span class="skill-tag" data-skill="angular">Angular</span>
                                                </div>
                                                <div class="mb-3">
                                                    <strong>Backend:</strong><br>
                                                    <span class="skill-tag" data-skill="nodejs">Node.js</span>
                                                    <span class="skill-tag" data-skill="python">Python</span>
                                                    <span class="skill-tag" data-skill="java">Java</span>
                                                    <span class="skill-tag" data-skill="php">PHP</span>
                                                </div>
                                                <div class="mb-3">
                                                    <strong>Bases de datos:</strong><br>
                                                    <span class="skill-tag" data-skill="mysql">MySQL</span>
                                                    <span class="skill-tag" data-skill="postgresql">PostgreSQL</span>
                                                    <span class="skill-tag" data-skill="mongodb">MongoDB</span>
                                                </div>
                                                <div>
                                                    <strong>Diseño:</strong><br>
                                                    <span class="skill-tag" data-skill="figma">Figma</span>
                                                    <span class="skill-tag" data-skill="sketch">Sketch</span>
                                                    <span class="skill-tag" data-skill="photoshop">Photoshop</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <label class="form-label">Disponibilidad horaria semanal *</label>
                                            <select class="form-select" required>
                                                <option value="">Selecciona...</option>
                                                <option value="5-10">5-10 horas</option>
                                                <option value="10-15">10-15 horas</option>
                                                <option value="15-20">15-20 horas</option>
                                                <option value="20+">Más de 20 horas</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <!-- Paso 2: Motivación -->
                                <div class="step-content" data-step="2">
                                    <h4 class="mb-4">Motivación</h4>
                                    <div class="row g-3">
                                        <div class="col-12">
                                            <label class="form-label">¿Por qué querés participar en este proyecto? *</label>
                                            <textarea class="form-control" rows="5" placeholder="Contanos qué te motiva a participar en este proyecto educativo..." required></textarea>
                                        </div>
                                        <div class="col-12">
                                            <label class="form-label">¿Qué podés aportar al equipo? *</label>
                                            <textarea class="form-control" rows="4" placeholder="Describe qué habilidades o experiencia podés contribuir..." required></textarea>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="terms1" required>
                                                <label class="form-check-label" for="terms1">
                                                    Acepto participar en equipo y cumplir con los plazos establecidos *
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="terms2" required>
                                                <label class="form-check-label" for="terms2">
                                                    Acepto que mi participación sea evaluada al finalizar el proyecto *
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Botones de navegación -->
                                <div class="d-flex justify-content-between mt-4">
                                    <button type="button" class="btn btn-secondary" id="prevBtn" onclick="changeStep(-1)" style="display: none;">
                                        <i class="bi bi-arrow-left me-2"></i>Anterior
                                    </button>
                                    <button type="button" class="btn btn-primary" id="nextBtn" onclick="changeStep(1)">
                                        Siguiente<i class="bi bi-arrow-right ms-2"></i>
                                    </button>
                                    <button type="submit" class="btn btn-accent" id="submitBtn" style="display: none;">
                                        <i class="bi bi-send me-2"></i>Enviar postulación
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Mensaje de éxito -->
    <section class="py-4" id="successMessage" style="display: none;">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card border-success">
                        <div class="card-body text-center">
                            <div class="display-1 mb-3">✅</div>
                            <h3 class="mb-3">¡Postulación enviada con éxito!</h3>
                            <p class="mb-4">Tu postulación ha sido enviada a <strong>ONG EduTech</strong>. Te contactaremos pronto con novedades sobre el proceso de selección.</p>
                            <div class="mt-4">
                                <a href="proyectosLogueado.html" class="btn btn-primary me-3">Volver a proyectos</a>
                                <a href="../UsuarioLogueado/perfilUsuario.html" class="btn btn-secondary">Ver mi perfil</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="text-center">
                <p class="mb-0">Redes Sociales | Contacto | Acerca de | Términos y Condiciones</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let currentStep = 1;
        const totalSteps = 2;
        
        function changeStep(direction) {
            const newStep = currentStep + direction;
            if (newStep >= 1 && newStep <= totalSteps) {
                // Validate current step before moving forward
                if (direction > 0 && !validateStep(currentStep)) {
                    return;
                }
                
                currentStep = newStep;
                updateStepDisplay();
                updateProgressBar();
                updateButtons();
            }
        }
        
        function validateStep(step) {
            const currentStepElement = document.querySelector(`.step-content[data-step="${step}"]`);
            if (!currentStepElement) return true;
            
            const requiredFields = currentStepElement.querySelectorAll('[required]');
            let isValid = true;
            
            // Check select fields
            requiredFields.forEach(field => {
                field.classList.remove('is-invalid');
                if (field.tagName === 'SELECT' && !field.value) {
                    field.classList.add('is-invalid');
                    isValid = false;
                } else if (field.tagName === 'TEXTAREA' && !field.value.trim()) {
                    field.classList.add('is-invalid');
                    isValid = false;
                } else if (field.tagName === 'INPUT' && field.type === 'checkbox' && !field.checked) {
                    field.classList.add('is-invalid');
                    isValid = false;
                }
            });
            
            // Check if at least one skill is selected in step 1
            if (step === 1) {
                const selectedSkills = document.querySelectorAll('.skill-tag.selected');
                if (selectedSkills.length === 0) {
                    alert('Por favor selecciona al menos una tecnología que domines');
                    isValid = false;
                }
            }
            
            return isValid;
        }
        
        function updateStepDisplay() {
            // Hide all step contents
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show current step content
            const currentStepContent = document.querySelector(`.step-content[data-step="${currentStep}"]`);
            if (currentStepContent) {
                currentStepContent.classList.add('active');
            }
            
            // Update step indicators
            document.querySelectorAll('.step').forEach((step, index) => {
                const stepNumber = index + 1;
                step.classList.remove('active', 'completed');
                
                if (stepNumber === currentStep) {
                    step.classList.add('active');
                } else if (stepNumber < currentStep) {
                    step.classList.add('completed');
                }
            });
        }
        
        function updateProgressBar() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }
        
        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            prevBtn.style.display = currentStep === 1 ? 'none' : 'inline-block';
            nextBtn.style.display = currentStep === totalSteps ? 'none' : 'inline-block';
            submitBtn.style.display = currentStep === totalSteps ? 'inline-block' : 'none';
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Skill tag selection
            document.querySelectorAll('.skill-tag').forEach(tag => {
                tag.addEventListener('click', function() {
                    this.classList.toggle('selected');
                });
            });
            
            // Form submission
            document.getElementById('postulationForm').addEventListener('submit', function(e) {
                e.preventDefault();
                if (validateStep(currentStep)) {
                    // Hide form and show success message
                    document.querySelector('.card.custom-card.shadow-lg').style.display = 'none';
                    document.getElementById('successMessage').style.display = 'block';
                    
                    // Scroll to success message
                    document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
                }
            });
            
            // Initialize display
            updateStepDisplay();
            updateProgressBar();
            updateButtons();
        });
    </script>
</body>
</html>