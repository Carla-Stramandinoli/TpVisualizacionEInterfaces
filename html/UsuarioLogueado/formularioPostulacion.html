<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Postulación - TalentLab</title>
    <link rel="stylesheet" href="../../css/bootstrap-custom.css">
    <style>
        body {
            background: var(--background-color) !important;
        }
        .bg-light {
            background: var(--background-color) !important;
        }
        .custom-step-header {
            background: #0B2D59;
            color: #fff;
            padding: 1.2rem 1rem;
            border-radius: 12px 12px 0 0;
            text-align: center;
            margin-bottom: 0;
        }
        .step-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-bottom: 2rem;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        .step-bar {
            position: absolute;
            top: 50%;
            left: 8%;
            width: 84%;
            height: 4px;
            background: #e9ecef;
            z-index: 0;
            transform: translateY(-50%);
            transition: background 0.3s;
        }
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 1;
            background: white;
            width: 120px;
            flex: 1;
            max-width: 120px;
        }
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            color: #6c757d;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 0.5rem;
            transition: all 0.3s;
            z-index: 2;
            border: none;
        }
        .step.active .step-number {
            background: #0B2D59;
            color: white;
        }
        .step.completed .step-number {
            background: #28a745;
            color: white;
        }
        .step-title {
            text-align: center;
        }
        .step-content {
            display: none;
        }
        .step-content.active {
            display: block;
        }
        /* Botones de navegación */
        .step-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
        }
        .step-navigation .btn-primary {
            margin-left: auto;
        }
        .step-navigation .btn-secondary {
            margin-right: auto;
        }
        
        .skill-tag {
            background: #e7f3ff;
            color: #0B2D59;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            margin: 0.25rem;
            display: inline-block;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid #e7f3ff;
        }
        
        .skill-tag:hover {
            background: #0B2D59;
            color: white;
        }
        
        .skill-tag.selected {
            background: #0B2D59;
            color: white;
        }
        
        .progress-bar-custom {
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 1rem;
        }
        
        .progress-fill {
            height: 100%;
            background: #0B2D59;
            transition: width 0.3s ease;
        }

        .input-group-text {
            background: transparent;
            border: none;
            cursor: pointer;
        }

        .input-group-text:hover {
            color: #0B2D59;
        }
        .custom-card.shadow-sm {
            margin-bottom: 1.7rem !important;
        }
        .step-indicator {
            margin-top: 1.7rem !important;
        }
        .py-4.bg-light {
            padding-bottom: 0 !important;
        }
        .py-5 {
            padding-top: 0 !important;
        }
        .container {
            margin-top: 0 !important;
            margin-bottom: 0 !important;
        }
        .row {
            margin-top: 0 !important;
            margin-bottom: 0 !important;
        }
        .skill-icon {
            color: #0B2D59;
        }
        .custom-step-header-extend {
            border-radius: 12px 12px 0 0 !important;
            background: #0B2D59;
            overflow: hidden;
        }
        .custom-card {
            border-radius: 12px !important;
            background: #fff !important;
        }
        @media (max-width: 768px) {
            .step-indicator {
                max-width: 320px;
            }
            .step {
                max-width: 110px;
                min-width: 90px;
                width: 100%;
                margin-right: 1rem;
            }
            .step:last-child {
                margin-right: 0;
            }
            .step-title {
                font-size: 0.75rem;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                padding: 0 2px;
            }
            .step-number {
                font-size: 1rem;
                width: 32px;
                height: 32px;
            }
            .step-bar {
                left: 10%;
                width: 80%;
            }
        }
        @media (min-width: 993px) and (max-width: 1200px) {
            .step-indicator {
                width: 100%;
                max-width: 100%;
                margin-left: 0;
                margin-right: 0;
                padding: 0 1.5rem;
                box-sizing: border-box;
            }
            .step {
                flex: 1 1 0;
                max-width: none;
                min-width: 0;
                margin: 0 0.5rem;
                padding: 0.5rem 0.1rem 0.4rem 0.1rem;
                box-sizing: border-box;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="custom-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h1 class="h3 mb-0"><i class="bi bi-lightbulb"></i> TalentLab</h1>
                </div>
                <div class="col-md-6">
                    <nav class="navbar navbar-expand-lg navbar-dark">
                        <div class="navbar-nav ms-auto">
                            <a class="nav-link d-flex align-items-center gap-2 text-nowrap" href="../UsuarioLogueado/homeLogueado.html"><i class="bi bi-house-door"></i> Inicio</a>
                            <a class="nav-link d-flex align-items-center gap-2 text-nowrap" href="../CursosComponente/cursosLogueado.html"><i class="bi bi-book"></i> Cursos</a>
                            <a class="nav-link d-flex align-items-center gap-2 text-nowrap active" href="proyectosLogueado.html"><i class="bi bi-rocket"></i> Proyectos</a>
                            <a class="nav-link d-flex align-items-center gap-2 text-nowrap" href="../UsuarioLogueado/ranking.html"><i class="bi bi-trophy"></i> Ranking</a>
                            <a class="nav-link btn-profile d-flex align-items-center gap-2 text-nowrap" href="../UsuarioLogueado/perfilUsuario.html"><i class="bi bi-person-circle"></i> Mi Perfil</a>
                            <a class="nav-link btn-logout d-flex align-items-center gap-2 text-nowrap" href="../UsuarioNoLogueado/homeNoLogueado.html"><i class="bi bi-box-arrow-left"></i> Cerrar Sesión</a>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </header>

    <!-- Información del proyecto -->
    <section class="py-4 bg-light">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card custom-card shadow-sm">
                        <div class="card-body">
                            <h3 class="mb-3">Postulándote para:</h3>
                            <div class="d-flex align-items-center gap-3">
                                <div class="rounded border d-flex align-items-center justify-content-center bg-primary" style="width: 60px; height: 60px; color: white;"><i class="bi bi-mortarboard"></i></div>
                                <div>
                                    <h4 class="mb-1">Plataforma de Aprendizaje Infantil</h4>
                                    <p class="mb-1"><strong>ONG EduTech</strong> | Duración: 4 meses</p>
                                    <span class="badge bg-primary">Tecnología - Educación</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Formulario Simplificado -->
    <section class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card custom-card shadow-lg">
                        <div class="custom-step-header">
                            <h3 class="mb-0">Postulación</h3>
                        </div>
                        <div class="card-body p-4">
                            <!-- Barra de progreso -->
                            <div class="progress-bar-custom">
                                <div class="progress-fill" id="progressFill" style="width: 33%"></div>
                            </div>
                            
                            <!-- Indicador de pasos -->
                            <div class="step-indicator">
                                <div class="step-bar"></div>
                                <div class="step active" data-step="1">
                                    <div class="step-number">1</div>
                                    <div class="step-title small">
  <span class="d-none d-md-inline">Rol y Habilidades</span>
  <span class="d-inline d-md-none">Rol y<br>Habilidades</span>
</div>
                                </div>
                                <div class="step" data-step="2">
                                    <div class="step-number">2</div>
                                    <div class="step-title small">
  <span class="d-none d-md-inline">Motivación</span>
  <span class="d-inline d-md-none">Motivación<br><br></span>
</div>
                                </div>
                                <div class="step" data-step="3">
                                    <div class="step-number">3</div>
                                    <div class="step-title small">
  <span class="d-none d-md-inline">Contacto</span>
  <span class="d-inline d-md-none">Contacto<br><br></span>
</div>
                                </div>
                            </div>

                            <form id="postulationForm">
                                <!-- Paso 1: Rol y Habilidades -->
                                <div class="step-content active" data-step="1">
                                    <h4 class="mb-4">Rol y Habilidades</h4>
                                    <div class="row g-3">
                                        <div class="col-12">
                                            <label class="form-label">Rol al que te postulas *</label>
                                            <select class="form-select" required>
                                                <option value="">Selecciona un rol...</option>
                                                <option value="frontend">Frontend Developer</option>
                                                <option value="backend">Backend Developer</option>
                                                <option value="fullstack">Full Stack Developer</option>
                                                <option value="designer">UX/UI Designer</option>
                                                <option value="qa">QA Tester</option>
                                            </select>
                                            <div class="invalid-feedback" style="display:none">Este campo es obligatorio</div>
                                        </div>
                                        <div class="col-12">
                                            <label class="form-label">Selecciona las tecnologías que dominas *</label>
                                            <p class="text-muted small mb-3">Haz clic en las tecnologías que conoces:</p>
                                            <div class="border rounded p-3 bg-light">
                                                <div class="mb-3">
                                                    <strong>Frontend:</strong><br>
                                                    <span class="skill-tag" data-skill="html">
  <i class="bi bi-filetype-html" style="font-size: 1.1em; margin-right: 4px;"></i> HTML
</span>
                                                    <span class="skill-tag" data-skill="css">
  <i class="bi bi-filetype-css" style="font-size: 1.1em; margin-right: 4px;"></i> CSS
</span>
                                                    <span class="skill-tag" data-skill="javascript">
  <i class="bi bi-filetype-js" style="font-size: 1.1em; margin-right: 4px;"></i> JavaScript
</span>
                                                    <span class="skill-tag" data-skill="react">
  <i class="bi bi-lightning-charge" style="font-size: 1.1em; margin-right: 4px;"></i> React
</span>
                                                    <span class="skill-tag" data-skill="vue">
  <i class="bi bi-code-slash" style="font-size: 1.1em; margin-right: 4px;"></i> Vue.js
</span>
                                                    <span class="skill-tag" data-skill="angular">
  <i class="bi bi-cpu" style="font-size: 1.1em; margin-right: 4px;"></i> Angular
</span>
                                                    <span class="skill-tag" data-skill="bootstrap">
  <i class="bi bi-bootstrap" style="font-size: 1.1em; margin-right: 4px;"></i> Bootstrap
</span>
                                                </div>
                                                <div class="mb-3">
                                                    <strong>Backend:</strong><br>
                                                    <span class="skill-tag" data-skill="nodejs">
  <i class="bi bi-terminal" style="font-size: 1.1em; margin-right: 4px;"></i> Node.js
</span>
                                                    <span class="skill-tag" data-skill="python">
  <i class="bi bi-filetype-py" style="font-size: 1.1em; margin-right: 4px;"></i> Python
</span>
                                                    <span class="skill-tag" data-skill="java">
  <i class="bi bi-cup-hot" style="font-size: 1.1em; margin-right: 4px;"></i> Java
</span>
                                                    <span class="skill-tag" data-skill="php">
  <i class="bi bi-filetype-php" style="font-size: 1.1em; margin-right: 4px;"></i> PHP
</span>
                                                </div>
                                                <div class="mb-3">
                                                    <strong>Bases de datos:</strong><br>
                                                    <span class="skill-tag" data-skill="mysql">
  <i class="bi bi-database" style="font-size: 1.1em; margin-right: 4px;"></i> MySQL
</span>
                                                    <span class="skill-tag" data-skill="postgresql">
  <i class="bi bi-database-fill" style="font-size: 1.1em; margin-right: 4px;"></i> PostgreSQL
</span>
                                                    <span class="skill-tag" data-skill="mongodb">
  <i class="bi bi-collection" style="font-size: 1.1em; margin-right: 4px;"></i> MongoDB
</span>
                                                </div>
                                                <div>
                                                    <strong>Diseño:</strong><br>
                                                    <span class="skill-tag" data-skill="figma">
  <i class="bi bi-palette" style="font-size: 1.1em; margin-right: 4px;"></i> Figma
</span>
                                                    <span class="skill-tag" data-skill="sketch">
  <i class="bi bi-gem" style="font-size: 1.1em; margin-right: 4px;"></i> Sketch
</span>
                                                    <span class="skill-tag" data-skill="photoshop">
  <i class="bi bi-brush" style="font-size: 1.1em; margin-right: 4px;"></i> Photoshop
</span>
                                                </div>
                                            </div>
                                            <div id="techFeedback" class="invalid-feedback" style="display:none"></div>
                                        </div>
                                        <div class="col-12">
                                            <label class="form-label">Disponibilidad horaria semanal *</label>
                                            <select class="form-select" required>
                                                <option value="">Selecciona...</option>
                                                <option value="5-10">5-10 horas</option>
                                                <option value="10-15">10-15 horas</option>
                                                <option value="15-20">15-20 horas</option>
                                                <option value="20+">Más de 20 horas</option>
                                            </select>
                                            <div class="invalid-feedback" style="display:none">Este campo es obligatorio</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Paso 2: Motivación -->
                                <div class="step-content" data-step="2">
                                    <h4 class="mb-4">Motivación</h4>
                                    <div class="row g-3">
                                        <div class="col-12">
                                            <label class="form-label">¿Por qué querés participar en este proyecto? *</label>
                                            <textarea class="form-control" rows="5" placeholder="Contanos qué te motiva a participar en este proyecto educativo..." required></textarea>
                                            <div class="invalid-feedback" style="display:none">Este campo es obligatorio</div>
                                        </div>
                                        <div class="col-12">
                                            <label class="form-label">¿Qué podés aportar al equipo? *</label>
                                            <textarea class="form-control" rows="4" placeholder="Describe qué habilidades o experiencia podés contribuir..." required></textarea>
                                            <div class="invalid-feedback" style="display:none">Este campo es obligatorio</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Paso 3: Contacto -->
                                <div class="step-content" data-step="3">
                                    <h4 class="mb-4">Contacto</h4>
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label class="form-label">Nombre *</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" id="nombreInput" value="María" required>
                                                <label class="input-group-text" for="nombreInput">
                                                    <i class="bi bi-pencil"></i>
                                                </label>
                                                <div class="invalid-feedback" style="display:none">Este campo es obligatorio</div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">Apellido *</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" id="apellidoInput" value="González" required>
                                                <label class="input-group-text" for="apellidoInput">
                                                    <i class="bi bi-pencil"></i>
                                                </label>
                                                <div class="invalid-feedback" style="display:none">Este campo es obligatorio</div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <label class="form-label">Email de contacto *</label>
                                            <div class="input-group">
                                                <input type="email" class="form-control" id="emailInput" value="maria.gonzalez@email.com" required>
                                                <label class="input-group-text" for="emailInput">
                                                    <i class="bi bi-pencil"></i>
                                                </label>
                                                <div class="invalid-feedback" style="display:none">Este campo es obligatorio</div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="terms1" required>
                                                <label class="form-check-label" for="terms1">
                                                    Acepto participar en equipo y cumplir con los plazos establecidos *
                                                </label>
                                                <div class="invalid-feedback" style="display:none">Debes aceptar para continuar</div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="terms2" required>
                                                <label class="form-check-label" for="terms2">
                                                    Acepto que mi participación sea evaluada al finalizar el proyecto *
                                                </label>
                                                <div class="invalid-feedback" style="display:none">Debes aceptar para continuar</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Botones de navegación -->
                                <div class="step-navigation">
                                    <button type="button" class="btn btn-secondary" id="prevBtn" onclick="changeStep(-1)" style="display: none;">
                                        <i class="bi bi-arrow-left me-2"></i>Anterior
                                    </button>
                                    <button type="button" class="btn btn-primary" id="nextBtn" onclick="changeStep(1)">
                                        Siguiente<i class="bi bi-arrow-right ms-2"></i>
                                    </button>
                                    <button type="submit" class="btn btn-accent" id="submitBtn" style="display: none;">
                                        <i class="bi bi-send me-2"></i>Enviar postulación
                                    </button>
                                </div>
                            </form>

                            <!-- Mensaje de éxito (dentro del formulario) -->
                            <div id="successMessage" style="display: none;">
                                <div class="text-center">
                                    <div class="display-1 mb-3"><i class="bi bi-check-circle-fill text-success"></i></div>
                                    <h3 class="mb-3">¡Postulación enviada con éxito!</h3>
                                    <p class="mb-4">Tu postulación ha sido enviada a <strong>ONG EduTech</strong>. Te contactaremos pronto con novedades sobre el proceso de selección.</p>
                                    <div class="mt-4">
                                        <a href="proyectosLogueado.html" class="btn btn-primary me-3">Volver a proyectos</a>
                                        <a href="../UsuarioLogueado/perfilUsuario.html" class="btn btn-secondary">Ver mi perfil</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="text-center">
                <p class="mb-0">Redes Sociales | Contacto | Acerca de | Términos y Condiciones</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let currentStep = 1;
        const totalSteps = 3;
        
        function changeStep(direction) {
            const newStep = currentStep + direction;
            if (newStep >= 1 && newStep <= totalSteps) {
                // Validate current step before moving forward
                if (direction > 0 && !validateStep(currentStep)) {
                    return;
                }
                
                currentStep = newStep;
                updateStepDisplay();
                updateProgressBar();
                updateButtons();
            }
        }
        
        function validateStep(step) {
            const currentStepElement = document.querySelector(`.step-content[data-step="${step}"]`);
            if (!currentStepElement) return true;

            const requiredFields = currentStepElement.querySelectorAll('[required]');
            let isValid = true;

            // Limpiar mensajes previos
            requiredFields.forEach(field => {
                field.classList.remove('is-invalid');
                const feedback = field.parentElement.querySelector('.invalid-feedback');
                if (feedback) feedback.style.display = 'none';
            });
            // Limpiar mensaje de tecnologías
            const techFeedback = document.getElementById('techFeedback');
            if (techFeedback) techFeedback.style.display = 'none';

            // Validar campos
            requiredFields.forEach(field => {
                if (field.tagName === 'SELECT' && !field.value) {
                    field.classList.add('is-invalid');
                    const feedback = field.parentElement.querySelector('.invalid-feedback');
                    if (feedback) {
                        feedback.textContent = 'Este campo es obligatorio';
                        feedback.style.display = 'block';
                    }
                    isValid = false;
                } else if (field.tagName === 'TEXTAREA' && !field.value.trim()) {
                    field.classList.add('is-invalid');
                    const feedback = field.parentElement.querySelector('.invalid-feedback');
                    if (feedback) {
                        feedback.textContent = 'Este campo es obligatorio';
                        feedback.style.display = 'block';
                    }
                    isValid = false;
                } else if (field.tagName === 'INPUT' && field.type === 'checkbox' && !field.checked) {
                    field.classList.add('is-invalid');
                    const feedback = field.parentElement.querySelector('.invalid-feedback');
                    if (feedback) {
                        feedback.textContent = 'Debes aceptar para continuar';
                        feedback.style.display = 'block';
                    }
                    isValid = false;
                } else if (field.tagName === 'INPUT' && (field.type === 'text' || field.type === 'email') && !field.value.trim()) {
                    field.classList.add('is-invalid');
                    const feedback = field.parentElement.querySelector('.invalid-feedback');
                    if (feedback) {
                        feedback.textContent = 'Este campo es obligatorio';
                        feedback.style.display = 'block';
                    }
                    isValid = false;
                }
            });

            // Validar tecnologías en paso 1
            if (step === 1) {
                const selectedSkills = document.querySelectorAll('.skill-tag.selected');
                if (selectedSkills.length === 0) {
                    const techFeedback = document.getElementById('techFeedback');
                    if (techFeedback) {
                        techFeedback.textContent = 'Por favor selecciona al menos una tecnología que domines';
                        techFeedback.style.display = 'block';
                    }
                    isValid = false;
                }
            }

            return isValid;
        }
        
        function updateStepDisplay() {
            // Hide all step contents
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show current step content
            const currentStepContent = document.querySelector(`.step-content[data-step="${currentStep}"]`);
            if (currentStepContent) {
                currentStepContent.classList.add('active');
            }
            
            // Update step indicators
            const steps = document.querySelectorAll('.step-indicator .step');
            steps.forEach((step, index) => {
                const stepNumber = index + 1;
                step.classList.remove('active', 'completed');
                if (stepNumber === currentStep) {
                    step.classList.add('active');
                } else if (stepNumber < currentStep) {
                    step.classList.add('completed');
                }
            });
            // Barra de progreso visual (verde hasta el paso actual)
            const bar = document.querySelector('.step-bar');
            if (bar) {
                if (currentStep === 1) {
                    bar.style.background = 'linear-gradient(to right, #28a745 0%, #e9ecef 0%, #e9ecef 100%)';
                } else if (currentStep === 2) {
                    bar.style.background = 'linear-gradient(to right, #28a745 0%, #28a745 50%, #e9ecef 50%, #e9ecef 100%)';
                } else if (currentStep === 3) {
                    bar.style.background = 'linear-gradient(to right, #28a745 0%, #28a745 100%)';
                }
            }
        }
        
        function updateProgressBar() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }
        
        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            prevBtn.style.display = currentStep === 1 ? 'none' : 'inline-block';
            nextBtn.style.display = currentStep === totalSteps ? 'none' : 'inline-block';
            submitBtn.style.display = currentStep === totalSteps ? 'inline-block' : 'none';
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Skill tag selection
            document.querySelectorAll('.skill-tag').forEach(tag => {
                tag.addEventListener('click', function() {
                    this.classList.toggle('selected');
                });
            });
            
            // Form submission
            document.getElementById('postulationForm').addEventListener('submit', function(e) {
                e.preventDefault();
                if (validateStep(currentStep)) {
                    // Hide form and show success message
                    document.getElementById('postulationForm').style.display = 'none';
                    document.querySelector('.step-indicator').style.display = 'none';
                    const bar = document.querySelector('.step-bar');
                    if (bar) { bar.style.display = 'none'; }
                    const header = document.querySelector('.custom-step-header-extend');
                    if (header) { header.style.display = 'none'; }
                    const progressBar = document.querySelector('.progress-bar-custom');
                    if (progressBar) { progressBar.style.display = 'none'; }
                    document.getElementById('successMessage').style.display = 'block';
                    
                    // Scroll to success message
                    document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
                }
            });
            
            // Initialize display
            updateStepDisplay();
            updateProgressBar();
            updateButtons();

            // Pencil icon click handlers
            document.querySelectorAll('.input-group-text').forEach(icon => {
                icon.addEventListener('click', function(e) {
                    const inputId = this.getAttribute('for');
                    const input = document.getElementById(inputId);
                    if (input) {
                        input.focus();
                        // Posicionar el cursor al final del texto
                        const val = input.value;
                        input.value = '';
                        input.value = val;
                    }
                });
            });
        });
    </script>
</body>
</html>